
<html>
<head>
<title>Component: PingM</title>
</head>
<body>
<table BORDER="0" CELLPADDING="3" CELLSPACING="0" width="100%">
<tr><td>
<font size="-1">
<b><font color="blue"><a href="apps_p.html">Apps</a></font></b>
&nbsp;&nbsp;&nbsp;
<b><a href="components_p.html">Components</a></b>
&nbsp;&nbsp;&nbsp;
<b><a href="interfaces_p.html">Interfaces</a></b>
&nbsp;&nbsp;&nbsp;
<b><a href="allfiles_p.html">All Files</a></b>
&nbsp;&nbsp;&nbsp;
<b><a href="index.html">Source Tree</a></b>
&nbsp;&nbsp;&nbsp;
</font>
</td>
<td align="right">
<font size="-1">
source: <b><a href="apps.compass.PingM.nc.source">apps.compass.PingM.nc</a></b>
</font>
</td></tr></table>
<hr>

<h1 align="center">Component: PingM</h1>
<p>


 Sends ping messages for diagnostic purposes.

 <table border="0" cellpadding="0">
<tr valign="top"><td><b>Author:</b>
<td> Ryan Stinnett

</td></tr></table>

<p>

<table BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<tr BGCOLOR="#CCCCFF"><td>
<h3>Required Interfaces</h3></td></tr></table>
<ul>
<li>    <a href="tos.interfaces.Timer.nc.html">Timer</a> 
<li>    <a href="tos.lib.Transceiver.Transceiver.nc.html">Transceiver</a> PingTrans
<li>    <a href="apps.compass.Message.nc.html">Message</a> PingMsg
</ul>

<table BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<tr BGCOLOR="#CCCCFF"><td>
<h3>Provided Interfaces</h3></td></tr></table>
<ul>
<li>    <a href="apps.compass.PingB.nc.html">PingB</a> 
</ul>

<table BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<tr BGCOLOR="#CCCCFF"><td>
<h3>Variables</h3></td></tr></table>
<ul>
<li>   bool trans
<li>   uint16_t numLeft
<li>   msgData md
<li>   TOS_MsgPtr tmpPtr
</ul>

<table BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<tr BGCOLOR="#CCCCFF"><td>
<h3>Function Index</h3></td></tr></table>
<ul>
<li>
        result_t <b>sendPingTrans</b>(uint16_t pingNum)

<li>
        command void     <a href="apps.compass.PingB.nc.html#command void PingB.send(uint16_t num)">
<b>PingB.send</b>    </a>
(uint16_t num)
<menu>

 Broadcasts a given number of ping messages.

</menu><p>

<li>
        command void     <a href="apps.compass.PingB.nc.html#command void PingB.sendTo(uint16_t num, uint16_t mDest, uint8_t rRet)">
<b>PingB.sendTo</b>    </a>
(uint16_t num, uint16_t mDest, uint8_t rRet)
<menu>

 Sends a given number of ping messages to a specific mote.

</menu><p>

<li>
        event result_t     <a href="tos.interfaces.Timer.nc.html#event result_t Timer.fired(void)">
<b>Timer.fired</b>    </a>
(void)

<li>
        event result_t     <a href="#event result_t PingTrans.radioSendDone(TOS_MsgPtr m, result_t result)">
<b>PingTrans.radioSendDone</b>    </a>
(TOS_MsgPtr m, result_t result)
<menu>

 A message was sent over radio.

</menu><p>

<li>
        event result_t     <a href="#event result_t PingTrans.uartSendDone(TOS_MsgPtr m, result_t result)">
<b>PingTrans.uartSendDone</b>    </a>
(TOS_MsgPtr m, result_t result)
<menu>

 A message was sent over UART.

</menu><p>

<li>
        event TOS_MsgPtr     <a href="#event TOS_MsgPtr PingTrans.receiveRadio(TOS_MsgPtr m)">
<b>PingTrans.receiveRadio</b>    </a>
(TOS_MsgPtr m)
<menu>

 Received a message over the radio

</menu><p>

<li>
        event TOS_MsgPtr     <a href="#event TOS_MsgPtr PingTrans.receiveUart(TOS_MsgPtr m)">
<b>PingTrans.receiveUart</b>    </a>
(TOS_MsgPtr m)
<menu>

 Received a message over UART

</menu><p>

<li>
        event result_t     <a href="apps.compass.Message.nc.html#event result_t PingMsg.sendDone(msgData msg, result_t result, uint8_t retries)">
<b>PingMsg.sendDone</b>    </a>
(msgData msg, result_t result, uint8_t retries)
<menu>

 sendDone is signaled when the send has completed

</menu><p>

<li>
        event void     <a href="apps.compass.Message.nc.html#event void PingMsg.receive(msgData msg)">
<b>PingMsg.receive</b>    </a>
(msgData msg)
<menu>

 Receive is signaled when a new message arrives

</menu><p>

</ul>

<table BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<tr BGCOLOR="#CCCCFF"><td>
<h3>Function Descriptions</h3>
</td></tr></table>
    <a name="event result_t PingTrans.radioSendDone(TOS_MsgPtr m, result_t result)"></a>
        <h4>PingTrans.radioSendDone</h4>
        event result_t     <a href="tos.lib.Transceiver.Transceiver.nc.html#event result_t PingTrans.radioSendDone(TOS_MsgPtr m, result_t result)"><b>PingTrans.radioSendDone</b>    </a>
(TOS_MsgPtr m, result_t result)<P><menu>

 A message was sent over radio.

 <table border="0" cellpadding="0">
</td></tr>
<tr valign="top"><td><br><b>Parameters:</b></td>
<td><menu><p STYLE="text-indent: -1cm"><b>m</b> -  - a pointer to the sent message, valid for the duration of the 

     event.

 </p><p STYLE="text-indent: -1cm"><b>result</b> -  - SUCCESS or FAIL.

</menu></menu>
</td></tr></table>
</menu><hr>
    <a name="event result_t PingTrans.uartSendDone(TOS_MsgPtr m, result_t result)"></a>
        <h4>PingTrans.uartSendDone</h4>
        event result_t     <a href="tos.lib.Transceiver.Transceiver.nc.html#event result_t PingTrans.uartSendDone(TOS_MsgPtr m, result_t result)"><b>PingTrans.uartSendDone</b>    </a>
(TOS_MsgPtr m, result_t result)<P><menu>

 A message was sent over UART.

 <table border="0" cellpadding="0">
</td></tr>
<tr valign="top"><td><br><b>Parameters:</b></td>
<td><menu><p STYLE="text-indent: -1cm"><b>m</b> -  - a pointer to the sent message, valid for the duration of the 

     event.

 </p><p STYLE="text-indent: -1cm"><b>result</b> -  - SUCCESS or FAIL.

</menu></menu>
</td></tr></table>
</menu><hr>
    <a name="event TOS_MsgPtr PingTrans.receiveRadio(TOS_MsgPtr m)"></a>
        <h4>PingTrans.receiveRadio</h4>
        event TOS_MsgPtr     <a href="tos.lib.Transceiver.Transceiver.nc.html#event TOS_MsgPtr PingTrans.receiveRadio(TOS_MsgPtr m)"><b>PingTrans.receiveRadio</b>    </a>
(TOS_MsgPtr m)<P><menu>

 Received a message over the radio

 <table border="0" cellpadding="0">
</td></tr>
<tr valign="top"><td><br><b>Parameters:</b></td>
<td><menu><p STYLE="text-indent: -1cm"><b>m</b> -  - the receive message, valid for the duration of the 

     event.

</menu></menu>
</td></tr></table>
</menu><hr>
    <a name="event TOS_MsgPtr PingTrans.receiveUart(TOS_MsgPtr m)"></a>
        <h4>PingTrans.receiveUart</h4>
        event TOS_MsgPtr     <a href="tos.lib.Transceiver.Transceiver.nc.html#event TOS_MsgPtr PingTrans.receiveUart(TOS_MsgPtr m)"><b>PingTrans.receiveUart</b>    </a>
(TOS_MsgPtr m)<P><menu>

 Received a message over UART

 <table border="0" cellpadding="0">
</td></tr>
<tr valign="top"><td><br><b>Parameters:</b></td>
<td><menu><p STYLE="text-indent: -1cm"><b>m</b> -  - the receive message, valid for the duration of the 

     event.

</menu></menu>
</td></tr></table>
</menu>