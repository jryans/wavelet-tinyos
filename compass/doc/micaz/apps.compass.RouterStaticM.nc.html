
<html>
<head>
<title>Component: RouterStaticM</title>
</head>
<body>
<table BORDER="0" CELLPADDING="3" CELLSPACING="0" width="100%">
<tr><td>
<font size="-1">
<b><font color="blue"><a href="apps_p.html">Apps</a></font></b>
&nbsp;&nbsp;&nbsp;
<b><a href="components_p.html">Components</a></b>
&nbsp;&nbsp;&nbsp;
<b><a href="interfaces_p.html">Interfaces</a></b>
&nbsp;&nbsp;&nbsp;
<b><a href="allfiles_p.html">All Files</a></b>
&nbsp;&nbsp;&nbsp;
<b><a href="index.html">Source Tree</a></b>
&nbsp;&nbsp;&nbsp;
</font>
</td>
<td align="right">
<font size="-1">
source: <b><a href="apps.compass.RouterStaticM.nc.source">apps.compass.RouterStaticM.nc</a></b>
</font>
</td></tr></table>
<hr>

<h1 align="center">Component: RouterStaticM</h1>
<p>


 Simplest implementation of routing.  Uses a static routing table which is hard-coded

 at compile time.

 <table border="0" cellpadding="0">
<tr valign="top"><td><b>Author:</b>
<td> Ryan Stinnett

</td></tr></table>

<p>

<table BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<tr BGCOLOR="#CCCCFF"><td>
<h3>Required Interfaces</h3></td></tr></table>
<ul>
<li>    <a href="apps.compass.Message.nc.html">Message</a> 
<li>    <a href="tos.lib.Transceiver.Transceiver.nc.html">Transceiver</a> IO
</ul>

<table BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<tr BGCOLOR="#CCCCFF"><td>
<h3>Provided Interfaces</h3></td></tr></table>
<ul>
<li>    <a href="tos.interfaces.StdControl.nc.html">StdControl</a> 
<li>    <a href="apps.compass.Router.nc.html">Router</a> 
</ul>

<table BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<tr BGCOLOR="#CCCCFF"><td>
<h3>Variables</h3></td></tr></table>
<ul>
<li>   uint8_t curState
<li>   int16_t cleanTable[11][11] = { { -1, 1, 1, 1, 4, 4, 1, 1, 4, 4, 4 }, { 0, -1, 2, 2, 4, 4, 7, 7, 4, 4, 10 }, { 1, 1, -1, 3, 1, 5, 7, 7, 5, 5, 1 }, { 2, 2, 2, -1, 2, 2, 2, 2, 2, 2, 2 }, { 0, 1, 1, 1, -1, 5, 7, 7, 5, 5, 10 }, { 4, 7, 2, 2, 4, -1, 6, 7, 8, 8, 4 }, { 7, 7, 7, 7, 5, 5, -1, 7, 8, 8, 5 }, { 1, 1, 2, 2, 4, 5, 6, -1, 8, 8, 1 }, { 5, 6, 6, 6, 5, 5, 6, 6, -1, 9, 5 }, { 8, 8, 8, 8, 8, 8, 8, 8, 8, -1, 8 }, { 1, 1, 1, 4, 4, 4, 4, 4, 4, 4, -1 } }
<li>   bool moteEnable[11] = { TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE }
</ul>

<table BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<tr BGCOLOR="#CCCCFF"><td>
<h3>Function Index</h3></td></tr></table>
<ul>
<li>
        command result_t     <a href="tos.interfaces.StdControl.nc.html#command result_t StdControl.init(void)">
<b>StdControl.init</b>    </a>
(void)

<li>
        command result_t     <a href="tos.interfaces.StdControl.nc.html#command result_t StdControl.start(void)">
<b>StdControl.start</b>    </a>
(void)

<li>
        command result_t     <a href="tos.interfaces.StdControl.nc.html#command result_t StdControl.stop(void)">
<b>StdControl.stop</b>    </a>
(void)

<li>
        command uint8_t     <a href="#command uint8_t Router.getStatus(void)">
<b>Router.getStatus</b>    </a>
(void)
<menu>

 Reports the current state of the routing layer. </menu><p>

<li>
        command uint16_t     <a href="apps.compass.Router.nc.html#command uint16_t Router.getNextAddr(msgData *msg)">
<b>Router.getNextAddr</b>    </a>
(msgData *msg)
<menu>

 Gives the address of the next hop for a given destination.

</menu><p>

<li>
        event result_t     <a href="apps.compass.Message.nc.html#event result_t Message.sendDone(msgData msg, result_t result, uint8_t retries)">
<b>Message.sendDone</b>    </a>
(msgData msg, result_t result, uint8_t retries)
<menu>

 sendDone is signaled when the send has completed

</menu><p>

<li>
        event void     <a href="apps.compass.Message.nc.html#event void Message.receive(msgData msg)">
<b>Message.receive</b>    </a>
(msgData msg)
<menu>

 Receive is signaled when a new message arrives

</menu><p>

<li>
        event result_t     <a href="tos.lib.Transceiver.Transceiver.nc.html#event result_t IO.radioSendDone(TOS_MsgPtr m, result_t result)">
<b>IO.radioSendDone</b>    </a>
(TOS_MsgPtr m, result_t result)
<menu>* Not needed in RouterStaticM **</menu><p>

<li>
        event result_t     <a href="tos.lib.Transceiver.Transceiver.nc.html#event result_t IO.uartSendDone(TOS_MsgPtr m, result_t result)">
<b>IO.uartSendDone</b>    </a>
(TOS_MsgPtr m, result_t result)

<li>
        event TOS_MsgPtr     <a href="tos.lib.Transceiver.Transceiver.nc.html#event TOS_MsgPtr IO.receiveRadio(TOS_MsgPtr m)">
<b>IO.receiveRadio</b>    </a>
(TOS_MsgPtr m)

<li>
        event TOS_MsgPtr     <a href="tos.lib.Transceiver.Transceiver.nc.html#event TOS_MsgPtr IO.receiveUart(TOS_MsgPtr m)">
<b>IO.receiveUart</b>    </a>
(TOS_MsgPtr m)

</ul>

<table BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<tr BGCOLOR="#CCCCFF"><td>
<h3>Function Descriptions</h3>
</td></tr></table>
    <a name="command uint8_t Router.getStatus(void)"></a>
        <h4>Router.getStatus</h4>
        command uint8_t     <a href="apps.compass.Router.nc.html#command uint8_t Router.getStatus(void)"><b>Router.getStatus</b>    </a>
(void)<P><menu>

 Reports the current state of the routing layer.  RO_INIT means the layer is

 starting up and determining the initial routing table.  RO_READY means it

 has a usable routing table.

</menu>